# compiler flags for C++
#PKG_CXXFLAGS = -std=c++11
# NOTE: -std=c++11 does not work on Ubuntu 12.04 LTS.
PKG_CXXFLAGS = -std=c++0x

# options for lex and yacc
LEX = flex
YACC = bison
LYPREFIX = pr

all: $(SHLIB) period_scanner.o period_parser.o

# rules for lex and yacc
period_scanner.cpp : period_scanner.l
	$(LEX)  -P$(LYPREFIX) -o$@ $<

period_parser.cpp : period_parser.yy
	$(YACC) -v  -d -p $(LYPREFIX) -o $@ $<

# dependencies C files
period_parser.o : period_parser.cpp period_scanner.hpp parse_period.h
period_scanner.o : period_scanner.cpp period_parser.cpp period_scanner.hpp \
                   months.hpp
months.o : months.hpp
parse_regperiod.o : parse_period.h

period_range.o : period_range.h
aggr_gr.o : period_range.h create_regts.h
window_regts.o : period_range.h create_regts.h
create_regts.o : create_regts.h
